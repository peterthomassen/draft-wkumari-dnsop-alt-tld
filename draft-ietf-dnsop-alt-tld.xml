<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY rfc2119 PUBLIC "" ".//reference.RFC.2119.xml">
]>
<!-- WK: Set category, IPR, docName -->
<rfc category="info" docName="draft-ietf-dnsop-alt-tld-07" ipr="trust200902">
  <?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

  <?rfc toc="yes" ?>

  <?rfc symrefs="yes" ?>

  <?rfc sortrefs="yes"?>

  <?rfc iprnotified="no" ?>

  <?rfc strict="yes"?>

  <?rfc compact="yes" ?>

  <front>
    <!-- WK: Set long title. -->

    <title abbrev="Reserve ALT TLD">The ALT Special Use Top Level
    Domain</title>

    <author fullname="Warren Kumari" initials="W." surname="Kumari">
      <organization>Google</organization>

      <address>
        <postal>
          <street>1600 Amphitheatre Parkway</street>

          <city>Mountain View, CA</city>

          <code>94043</code>

          <country>US</country>
        </postal>

        <email>warren@kumari.net</email>
      </address>
    </author>

    <author fullname="Andrew Sullivan" initials="A." surname="Sullivan">
      <organization>Dyn</organization>

      <address>
        <postal>
          <street>150 Dow Street</street>

          <city>Manchester, NH</city>

          <code>03101</code>

          <country>US</country>
        </postal>

        <email>asullivan@dyn.com</email>
      </address>
    </author>

    <date day="1" month="February" year="2017"/>

    <area>template</area>

    <workgroup>dnsop</workgroup>

    <abstract>
      <t>This document reserves a string (ALT) to be used as a TLD label in
      non-DNS contexts, or for names that have no meaning in a global context.
      It also provides advice and guidance to developers developing alternate
      namespaces.</t>

      <t>[Ed note: Text inside square brackets ([]) is additional background
      information, answers to frequently asked questions, general musings,
      etc. They will be removed before publication.This document is being
      collaborated on in Github at: https://github.com/wkumari/draft-
      wkumari-dnsop-alt-tld. The most recent version of the document, open
      issues, etc should all be available here. The authors (gratefully)
      accept pull requests. NOTE: This document is currently a parked WG
      document -- as such, all changes are being handled in GitHub and a new
      version will be posted once unparked.</t>

      <t>It had been suggested (off-list) that the draft should contain
      &lt;TBD&gt; instead of .ALT, and then make the WG choose a string before
      publication. A version of the draft like this was published on GitHub
      (https://github.com/wkumari/draft-wkumari-dnsop-alt-tld/tree/7988fcf06100f7a17f21e6993b781690b5774472)
      (and generated no feedback). This version reverts to .ALT -- the chairs
      stated that the document was adopted with the string .alt, it has been
      discussed as .alt. IMO, it is more readable as .alt; it would also be a
      difficult consensus call, boiling down to beauty contests. If the WG
      selects a different string ("not-dns" had been suggested in the past),
      the editors will, of course, replace it. ]</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>Many protocols and systems need to name entities. Names that look
      like DNS names (a series of labels separated with dots) have become
      common, even in systems that are not part of the global DNS administered
      by IANA.</t>

      <t>This document reserves the label "ALT" (short for "Alternate") as a
      Special Use Domain (<xref target="RFC6761"/>). This label is intended to
      be used as the final (rightmost) label to signify that the name is not
      rooted in the DNS, and that normal registration and lookup rules do not
      apply.</t>

      <section title="Requirements notation">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <xref
        target="RFC2119"/>.</t>
      </section>

      <section title="Terminology">
        <t>This document assumes familiarity with DNS terms and concepts.
        Please see <xref target="RFC1034"/> for background and concepts, and
        <xref target="RFC7719"/> for terminology. Readers are also expected to
        be familiar with the discussions in <xref
        target="I-D.ietf-dnsop-sutld-ps"/></t>

        <t><list style="symbols">
            <t>DNS name: Domain names that are intended to be used with DNS
            resolution, either in the global DNS or in some other context</t>

            <t>DNS context: The namespace anchored at the globally-unique DNS
            root. This is the namespace or context that "normal" DNS uses.</t>

            <t>non-DNS context: Any other (alternate) namespace.</t>

            <t>pseudo-TLD: A label that appears in a fully-qualified domain
            name in the position of a TLD, but which is not registered in the
            global DNS. This term is in no way intended to be pejorative.</t>

            <t>TLD: The last visible label in either a fully-qualified domain
            name or a name that is qualified relative to the root. See the
            discussion in <xref target="background"/>.</t>
          </list></t>
      </section>
    </section>

    <section anchor="background" title="Background">
      <t>The success of the DNS makes it a natural starting point for systems
      that need to name entities in a non-DNS context.</t>

      <t>In many cases, these systems build a DNS-style tree parallel to, but
      separate from, the global DNS. They often use a pseudo-TLD to cause
      resolution in the alternate namespace, using browser plugins, shims in
      the name resolution process, or simply applications that perform special
      handling of this particular alternate namespace. An example of such a
      system is the Tor network's <xref target="Dingledine2004"/> use of the
      ".onion" Special-Use Top-Level Domain Name (see <xref
      target="RFC7686"/>).</t>

      <t>In many cases, the creators of these alternative namespaces have
      chosen a convenient or descriptive string and started using it. These
      strings are not registered anywhere nor are they part of the DNS.
      However, to users and to some applications they appear to be TLDs; and
      issues may arise if they are looked up in the DNS. </t>

      <t>An alternate name resolution system might be specifically designed to
      provide confidentiality of the looked up name, and to provide a
      distributed and censorship-resistant namespace. This goal would
      necessarily be defeated if the queries leak into the DNS, because the
      attempt to look up the name would be visible to the operators of root
      name servers at a minimum as well as to any entity viewing the DNS
      lookups going to the root nameservers.</t>

      <t>The techniques in this document are primarily intended to address the
      "Experimental Squatting Problem", the "Land Rush Problem" and "Name
      Collisions" issues discussed in <xref target="I-D.ietf-dnsop-sutld-ps"/>
      (whiich contains much additional background, etc).</t>
    </section>

    <section title="The ALT namespace">
      <t>This document reserves the ALT label, using the <xref
      target="RFC6761"/> process, for use as an unmanaged pseudo-TLD
      namespace. The ALT label MAY be used in any domain name as a pseudo-TLD
      to signify that this is an alternate (non-DNS) namespace, and should not
      be looked up in a DNS context.</t>

      <t>Alternative namespaces should differentiate themselves from other
      alternate namespaces by choosing a name and using it in the label
      position just before the pseudo-TLD (ALT). For example, a group wishing
      to create a namespace for Friends Of Olaf might choose the string "foo"
      and use any set of labels under foo.alt.</t>

      <t>As they are in an alternative namespace, they have no significance in
      the regular DNS context and so should not be looked up in the DNS
      context. Some of these requests will inevitably leak into the DNS
      context (for example, because of clicks on a link in a browser that does
      not have a extension installed that implements the alternate namespace
      resolution), and so the ALT TLD has been added to the "Locally Served
      DNS Zones" <xref target="RFC6303">(</xref>) registry to limit how far
      these flow.</t>

      <t>Groups wishing to create new alternate namespaces MAY create their
      alternate namespace under a label that names their namespace under the
      ALT label. They SHOULD choose a label that they expect to be unique and,
      ideally, descriptive. There is no IANA controlled registry for names
      under the ALT TLD - it is an unmanaged namespace, and developers are
      responsible for dealing with any collisions that may occur under .alt.
      Informal lists of namespaces under .alt may appear to assist the
      developer community.</t>

      <t>[Editor note (to be removed before publication): There was
      significant discussion on an IANA registry for the ALT namespace -
      please consult the lists for full thread, but the consensus was that it
      would be better for the IETF / IANA to not administer a registry for
      this. It is expected one or more unofficial lists will be created where
      people can list the strings that they are using. ]</t>

      <t>Currently deployed projects and protocols that are using pseudo-TLDs
      may choose to move under the ALT TLD, but this is not a requirement.
      Rather, the ALT TLD is being reserved so that current and future
      projects of a similar nature have a designated place to create
      alternative resolution namespaces that will not conflict with the
      regular DNS context.</t>

      <section title="Choice of the ALT Name">
        <t>A number of names other than "ALT" were considered and discarded.
        In order for this technique to be effective the names need to continue
        to follow both the DNS format and conventions (a prime consideration
        for alternative name formats is that they can be entered in places
        that normally take DNS context names); this rules out using suffixes
        that do not follow the usual letter, digit, and hyphen label
        convention.</t>
      </section>
    </section>

    <section title="IANA Considerations">
      <t>The IANA is requested to add the ALT string to the "Special-Use
      Domain Name" registry (<xref target="RFC6761"/>, and reference this
      document. In addition, the "Locally Served DNS Zones" (<xref
      target="RFC6303"/>) registry should be updated to reference this
      document.</t>

      <section title="Domain Name Reservation Considerations">
        <t>This section is to satisfy the requirement in Section 5 of
        RFC6761.</t>

        <t>The domain "alt.", and any names falling within ".alt.", are
        special in the following ways:<list style="numbers">
            <t>Human users are expected to know that strings that end in .alt
            behave differently to normal DNS names. Users are expected to have
            applications running on their machines that intercept strings of
            the form &lt;namespace&gt;.alt and perform special handing of
            them. If the user tries to resolve a name of the form
            &lt;namespace&gt;.alt without the &lt;namespace&gt; plugin
            installed, the request will leak into the DNS, and receive a
            negative response.</t>

            <t>Writers of application software that implement a non-DNS
            namespace are expected to intercept names of the form
            &lt;namespace&gt;.alt and perform application specific handing
            with them. Other applications are not intended to perform any
            special handing.</t>

            <t>Writers of name resolution APIs and libraries which operate in
            the DNS context should not attempt to look these names up in the
            DNS. If developers of other namespaces implement their namespace
            through a "shim" or library, they will need to intercept and
            perform their own handling.</t>

            <t>Caching DNS servers SHOULD recognize these names as special and
            SHOULD NOT, by default, attempt to look up NS records for them, or
            otherwise query authoritative DNS servers in an attempt to resolve
            these names. Instead, caching DNS servers SHOULD generate
            immediate negative responses for all such queries.</t>

            <t>Authoritative DNS servers SHOULD recognize these names as
            special and SHOULD, by default, generate immediate negative
            responses for all such queries, unless explicitly configured by
            the administrator to give positive answers for private-address
            reverse-mapping names.</t>

            <t>DNS server operators SHOULD be aware that queries for names
            ending in .alt are not DNS names, and were leaked into the DNS
            context (for example, by a missing browser plugin). This
            information may be useful for support or debugging purposes.</t>

            <t>DNS Registries/Registrars MUST NOT grant requests to register
            "alt" names in the normal way to any person or entity. These "alt"
            names are defined by protocol specification to be nonexistent, and
            they fall outside the set of names available for allocation by
            registries/registrars.</t>
          </list></t>
      </section>
    </section>

    <section anchor="security" title="Security Considerations">
      <t>One of the motivations for the creation of the .alt pseudo-TLD is
      that unmanaged labels in the managed root name space are subject to
      unexpected takeover. This could occur if the manager of the root name
      space decides to delegate the unmanaged label. Another motivation for
      implementing the .alt namespace to increase user privacy for those who
      do use alternate name resolution systems; it would limit how far these
      queries leak (e.g if used on a system which does not implement the
      alternate resolution system).</t>

      <t>The unmanaged and "registration not required" nature of labels
      beneath .alt provides the opportunity for an attacker to re-use the
      chosen label and thereby possibly compromise applications dependent on
      the special host name.</t>
    </section>

    <section title="Acknowledgements">
      <t>We would also like to thank Joe Abley, Mark Andrews, Marc Blanchet,
      John Bond, Stephane Bortzmeyer, David Cake, David Conrad, Patrik
      Faltstrom, Olafur Gudmundsson, Bob Harold, Paul Hoffman, Joel Jaeggli,
      Ted Lemon, Edward Lewis, George Michaelson, Ed Pascoe, Arturo Servin,
      and Paul Vixie for feedback.</t>

      <t>Christian Grothoff was also very helpful.</t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      <?rfc include='reference.RFC.2119'?>

      <?rfc include='reference.RFC.6761'?>

      <?rfc include='reference.RFC.6303'?>

      <?rfc include='reference.RFC.1034'?>

      <?rfc include='reference.RFC.7719'?>

      <?rfc include='reference.RFC.7686'?>
    </references>

    <references title="Informative References">
      <?rfc include='reference.I-D.ietf-dnsop-sutld-ps.xml'?>

      <reference anchor="Dingledine2004"
                 target="&lt;https://svn.torproject.org/svn/projects/design-paper/tor-design.html&gt;">
        <front>
          <title>Tor: The Second-Generation Onion Router</title>

          <author fullname="R" initials="R" surname="Dingledine">
            <organization/>
          </author>

          <author fullname="N" initials="N" surname="Mathewson">
            <organization/>
          </author>

          <author fullname="P" initials="P" surname="Syverson">
            <organization/>
          </author>

          <date month="8" year="2004"/>
        </front>

        <seriesInfo name="" value=""/>
      </reference>
    </references>

    <section title="Changes / Author Notes.">
      <t>[RFC Editor: Please remove this section before publication ]</t>

      <t>From -06 to -07:<list style="symbols">
          <t>Rolled up the GItHub releases in to a full release.</t>
        </list></t>

      <t>From -07.2 to -07.3 (GitHub point release):<list>
          <t>Removed 'sandbox' at Stephane's suggestion -
          https://www.ietf.org/mail-archive/web/dnsop/current/msg18495.html</t>

          <t>Suggested (in 4.1 bullet 3) that DNS libraries ignore these --
          Bob Harold -
          https://mailarchive.ietf.org/arch/msg/dnsop/a_ruPf8osSzi_hCzCqOxYLXhYoA</t>

          <t>Added some pointers to the SUTLD document.</t>
        </list></t>

      <t>From -07.1 to -07.2 (Github point release):<list style="symbols">
          <t>Reverted the &lt;TBD&gt; string (at request of chairs).</t>

          <t>Added an editors note explaining the above.</t>

          <t>Removed some more background, editorializing, etc.</t>
        </list></t>

      <t>From -06 to -07.1
      (https://github.com/wkumari/draft-wkumari-dnsop-alt-tld/tree/7988fcf06100f7a17f21e6993b781690b5774472):<list
          style="symbols">
          <t>Replaced ALT with &lt;TBD&gt; at the suggestions of George.</t>
        </list></t>

      <t>From -05 to -06:<list style="symbols">
          <t>Removed a large amount of background - we now have the (adopted)
          tldr document for that.</t>

          <t>Made it clear that pseudo-TLD is not intended to be
          pejorative.</t>

          <t>Tried to make it cleat that this is something people can choose
          to use - or not.</t>
        </list></t>

      <t>From -04 to -05:<list style="symbols">
          <t>Version bump - we are waiting in the queue for progress on SUN,
          bumping this to keep it alive.</t>
        </list></t>

      <t>From -03 to -04:<list style="symbols">
          <t>3 changes - the day, the month and the year (a bump to keep
          alive).</t>
        </list></t>

      <t>From -02 to -03:<list style="symbols">
          <t>Incorporate suggestions from Stephane and Paul Hoffman.</t>
        </list></t>

      <t>From -01 to -02:<list style="symbols">
          <t>Merged a bunch of changes from Paul Hoffman. Thanks for sending a
          git pull.</t>
        </list></t>

      <t>From -00 to 01:<list style="symbols">
          <t>Removed the "delegated to new style AS112 servers" text -this was
          legacy from the omnicient AS112 days. (Joe Abley)</t>

          <t>Removed the "Advice to implemntors" section. This used to
          recommend that people used a subdomain of a domain in the DNS. It
          was pointed out that this breaks things badly if the domain
          expires.</t>

          <t>Added text about why we don't want to adminster a registry for
          ALT.</t>
        </list></t>

      <t>From Individual-06 to DNSOP-00<list style="symbols">
          <t>Nothing changed, simply renamed draft-wkumari-dnsop-alt-tld to
          draft-ietf-dnsop-alt-tld</t>
        </list></t>

      <t>From -05 to -06<list style="symbols">
          <t>Incorporated comments from a number of people, including a number
          of suggestion heard at the IETF meeting in Dallas, and the DNSOP
          Interim meeting in May, 2015.</t>

          <t>Removed the "Let's have an (optional) IANA registry for people to
          (opportinistically) register their string, if they want that option"
          stuff. It was, um, optional....</t>
        </list></t>

      <t>From -04 to -05</t>

      <t><list style="symbols">
          <t>Went through and made sure that I'd captured the feedback
          received.</t>

          <t>Comments from Ed Lewis.</t>

          <t>Filled in the "Domain Name Reservation Considerations" section of
          RFC6761.</t>

          <t>Removed examples from .Onion.</t>
        </list></t>

      <t>From -03 to -04</t>

      <t><list style="symbols">
          <t>Incorporated some comments from Paul Hoffman</t>
        </list></t>

      <t>From -02 to -03</t>

      <t><list style="symbols">
          <t>After discussions with chairs, made this much more generic (not
          purely non-DNS), and some cleanup.</t>
        </list></t>

      <t>From -01 to -02</t>

      <t><list style="symbols">
          <t>Removed some fluffy wording, tightened up the language some.</t>
        </list></t>

      <t>From -00 to -01.</t>

      <t><list style="symbols">
          <t>Fixed the abstract.</t>

          <t>Recommended that folk root their non-DNS namespace under a DNS
          namespace that they control (Joe Abley)</t>
        </list></t>
    </section>
  </back>
</rfc>
